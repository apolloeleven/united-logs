{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./frontend/web/js/app.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","$","sortable","placeholder","connectWith","handle","forcePlaceholderSize","zIndex","disableSelection","css","each","this","children","removeClass","addClass","click","ev","preventDefault","val","document","ready","Tree","searchParam","decodeURIComponent","window","location","href","split","console","log","Mark","mark","replace","lobiNotify","type","title","msg","Lobibox","notify","sound","position","delay","showClass","on","ajax","url","data","key","parseInt","attr","success","res","JSON","parse","jstree","plugins","checkbox","three_state","core","types","website","icon","page","video_section","content_text","teaser","section","service","pharmaceutical_form","initTree","multiple","initTreeMove","setTimeout","id","toString","$deleteInput","deleteInputVal","deletedArray","length","includes","push","join","LinkedIds","forEach","ids","tree","code","modal","message","prependTo","prepend_to","moved","change","form","formData","serialize","error","err","selected","prop","checked","table_names","settings","refresh","start","event","ui","item","index","stop","element","prev","next","closest","option","find","el","hljs","highlightBlock"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","$(function () {\n  \"use strict\";\n  //Make the dashboard widgets sortable Using jquery UI\n  $(\".connectedSortable\").sortable({\n    placeholder: \"sort-highlight\",\n    connectWith: \".connectedSortable\",\n    handle: \".box-header, .nav-tabs\",\n    forcePlaceholderSize: true,\n    zIndex: 999999\n  }).disableSelection();\n  $(\".connectedSortable .box-header, .connectedSortable .nav-tabs-custom\").css(\"cursor\", \"move\");\n\n  $('.sidebar-menu .opened').each(function () {\n    $(this).children('a').children('.menu-item-toggle-icon').removeClass('fa-plus-square-o');\n    $(this).children('a').children('.menu-item-toggle-icon').addClass('fa-minus-square-o');\n    $(this).children('ul').css('display', 'block');\n  });\n\n  $('#idRemoveVideoButton').click(function (ev) {\n    ev.preventDefault();\n    $('#idRemoveVideo').val('1');\n    $('#idVideoFileInput').val('');\n  });\n\n  $('#idRemoveMobileVideoButton').click(function (ev) {\n    ev.preventDefault();\n    $('#idRemoveMobileVideo').val('1');\n    $('#idMobileVideoFileInput').val('');\n  });\n\n  $('#idRemoveFileButton').click(function (ev) {\n    ev.preventDefault();\n    $('#idRemoveFile').val('1');\n    $('#idFileInput').val('');\n  });\n});\n\n\n$(document).ready(function () {\n\n//   var tour = new Tour({\n//     backdrop: true,\n//     steps: [\n//       {\n//         element: \".sidebar-menu\",\n//         title: \"Side Bar Menu\",\n//         content: \"This is Side Bar Menu\"\n//       },\n//       {\n//         element: \"#content-tree\",\n//         title: \"Content Tree\",\n//         content: \"This is Content Tree\"\n//       },\n//       {\n//         element: \"#\",\n//         title: \"Content Tree\",\n//         content: \"This is Content Tree\"\n//       },\n//     ]\n//   });\n//\n// // Initialize the tour\n//   tour.init();\n//\n// // Start the tour\n//   tour.start();\n\n  var Tree;\n  var TreeMove;\n  var fullUrl = decodeURIComponent(window.location.href);\n  var url = fullUrl.split('&');\n  var searchParam = url[0].split('Search[content]=')[1];\n  if (searchParam) {\n    console.log(searchParam);\n    var $context = $(\".search-cont\");\n    $context.each(function () {\n      var instance = new Mark(this);\n      instance.mark(searchParam.replace('+', ' '));\n      var instance2 = new Mark(this);\n      instance2.mark(searchParam.replace('+', '  '));\n    });\n  }\n\n  $('#linked').on('shown.bs.modal', function () {\n    $.ajax({\n      url: '/base/tree',\n      type: \"POST\",\n      data: {\n        key: parseInt($('#tree-modal-body').attr('data-key')),\n      },\n      success: function (res) {\n        initTree(res);\n      }\n    });\n  });\n\n\n  $('#move-modal').on('shown.bs.modal', function () {\n    $.ajax({\n      url: '/base/tree-for-move',\n      type: \"POST\",\n      data: {\n        key: parseInt($('#tree-modal-body').attr('data-key')),\n      },\n      success: function (res) {\n        initTreeMove(res);\n      }\n    });\n  });\n\n  function initTree(res) {\n    Tree = JSON.parse(res);\n    $('#jstree-choose').jstree({\n      plugins: ['checkbox', 'types', 'wholerow'],\n      checkbox: {\n        \"three_state\": false\n      },\n      core: {\n        data: Tree\n      },\n      types: {\n        \"website\": {icon: \"fa fa-globe\"},\n        \"page\": {icon: \"fa fa-file-powerpoint-o\"},\n        \"video_section\": {icon: \"fa fa-file-video-o\"},\n        \"content_text\": {icon: \"fa fa-file-text\"},\n        \"teaser\": {icon: \"fa fa-file-text\"},\n        \"section\": {icon: \"fa fa-folder-open-o\"},\n        \"service\": {icon: \"fa fa-wrench\"},\n        \"pharmaceutical_form\": {icon: \"fa fa-medkit\"},\n      }\n    });\n  }\n\n  function initTreeMove(res) {\n    TreeMove = JSON.parse(res);\n    $('#jstree-move').jstree({\n      plugins: ['checkbox', 'rules', 'types', 'wholerow'],\n      checkbox: {\n        \"three_state\": false,\n      },\n      core: {\n        multiple: false,\n        data: JSON.parse(res)\n      },\n      types: {\n        \"website\": {icon: \"fa fa-globe\"},\n        \"page\": {icon: \"fa fa-file-powerpoint-o\"},\n        \"video_section\": {icon: \"fa fa-file-video-o\"},\n        \"content_text\": {icon: \"fa fa-file-text\"},\n        \"teaser\": {icon: \"fa fa-file-text\"},\n        \"section\": {icon: \"fa fa-folder-open-o\"},\n        \"service\": {icon: \"fa fa-wrench\"},\n        \"pharmaceutical_form\": {icon: \"fa fa-medkit\"},\n      }\n    });\n  }\n\n  setTimeout(function () {\n    var $deleteButton = $(\".kv-file-remove\");\n    $deleteButton.each(function () {\n      var $deleteButton = $(this)\n\n      $deleteButton.click(function () {\n        var $this = $(this);\n        var id = $this.data('key').toString();\n        var $deleteInput = $('[name*=deletedImages]');\n        var deleteInputVal = $deleteInput.val();\n        var deletedArray = [];\n\n        if (deleteInputVal.length > 0) {\n          deletedArray = deleteInputVal.split(',')\n          if (!deletedArray.includes(id)) {\n            deletedArray.push(id)\n          }\n        } else {\n          deletedArray.push(id)\n        }\n        $deleteInput.val(deletedArray.join())\n      })\n    });\n  }, 1000)\n\n  $('#linked-button').click(function () {\n    var LinkedIds = [];\n    $(\"#jstree-choose\").jstree(\"get_checked\", null, true).forEach(function (id) {\n      LinkedIds.push(id);\n    });\n\n    $.ajax({\n      url: '/base/link-tree',\n      type: \"POST\",\n      data: {\n        ids: LinkedIds,\n        tree: parseInt($('#tree-modal-body').attr('data-key'))\n      },\n      success: function (res) {\n        res = JSON.parse(res);\n        if (res.code == 1) {\n          $('#linked').modal('hide');\n          lobiNotify('success', 'Link Object', 'Successfully Linked');\n          //TODO append to ui-sortable;\n        } else {\n          lobiNotify('error', 'Link Object', res.message);\n        }\n      }\n    });\n  });\n\n  $('#move-button').click(function () {\n    var prependTo = [];\n    $(\"#jstree-move\").jstree(\"get_checked\", null, true).forEach(function (id) {\n      prependTo.push(id);\n    })\n\n    $.ajax({\n      url: '/base/move-tree',\n      type: \"POST\",\n      data: {\n        prepend_to: prependTo,\n        moved: [parseInt($('#move-modal-body').attr('data-key'))]\n      },\n      success: function (res) {\n        res = JSON.parse(res);\n        if (res.code == 1) {\n          $('#move-modal').modal('hide');\n          lobiNotify('success', 'Link Object', 'Successfully Linked');\n          //TODO append to ui-sortable;\n        } else {\n          lobiNotify('error', 'Link Object', res.message);\n        }\n      }\n    });\n\n  });\n\n  //\n  // $('#jstree-demo').on('select_node.jstree', function (e, data) {\n  //   //selectedObject[data.node.id]  = data.node.id;\n  //\n  //   console.log(selectedObject);\n  // });\n  //\n  // $('#jstree-demo').on('deselect_node.jstree', function (e, data) {\n  //   selectedObject.splice(data.node.id, 1);\n  //   console.log(selectedObject);\n  // });\n\n  $('#show_in_menu :checkbox').change(function () {\n    var form = $('#show_in_menu');\n    var formData = form.serialize();\n\n    $.ajax({\n      url: form.attr(\"action\"),\n      type: form.attr(\"method\"),\n      data: formData,\n      success: function (res) {\n        console.log(res);\n        if (res == false) {\n          lobiNotify('error', 'Show In Menu', 'Changes not Saved')\n        } else {\n          lobiNotify('success', 'Show In Menu', 'Saved');\n        }\n      },\n      error: function (err) {\n        lobiNotify('error', 'Show In Menu', 'Changes not Saved')\n      }\n    })\n  });\n\n\n  function filter(tree, selected) {\n\n    var newTree = tree.filter(function (nt) {\n      return selected.includes(nt.type);\n    });\n\n    for (t of newTree) {\n      if (t.hasOwnProperty('children')) {\n        t.children = filter(t.children, selected)\n      }\n    }\n\n    return newTree;\n  }\n\n  function deepCopy(Tree) {\n    var copyArray = [];\n    for (t of Tree) {\n      var copyObject = Object.assign({}, t)\n      copyArray.push(copyObject);\n      if (t.hasOwnProperty('children')) {\n        t.children = deepCopy(t.children)\n      }\n    }\n\n    return copyArray;\n  }\n\n  $('#table_names_tree :checkbox').change(function () {\n    var selected = [];\n    if ($(this).val() === 'all') {\n      $('#table_names_tree input:checkbox').prop('checked', this.checked)\n    } else {\n      $('#table_names_tree input:checked').each(function () {\n        selected.push($(this).val());\n      });\n    }\n    $.ajax({\n      url: '/base/tree',\n      type: \"POST\",\n      data: {\n        table_names: selected,\n      },\n      success: function (res) {\n        $('#jstree-choose').jstree(true).settings.core.data = JSON.parse(res)\n        $('#jstree-choose').jstree(true).refresh();\n      }\n    });\n\n\n  });\n\n  $('#table_names_for_move :checkbox').change(function () {\n    var selected = [];\n    if ($(this).val() === 'all') {\n      $('#table_names_for_move input:checkbox').prop('checked', this.checked)\n    } else {\n      $('#table_names_for_move input:checked').each(function () {\n        selected.push($(this).val());\n      });\n    }\n    $.ajax({\n      url: '/base/tree-for-move',\n      type: \"POST\",\n      data: {\n        table_names: selected,\n      },\n      success: function (res) {\n        $('#jstree-move').jstree(true).settings.core.data = JSON.parse(res)\n        $('#jstree-move').jstree(true).refresh();\n      }\n    });\n  });\n\n  function lobiNotify(type, title, msg) {\n    Lobibox.notify(type, {\n      sound: false,\n      position: 'top right',\n      delay: 1500,\n      showClass: 'fadeInDown',\n      title: title,\n      msg: msg\n    });\n  }\n\n  var fixHelperModified = function (e, tr) {\n    var $originals = tr.children();\n    var $helper = tr.clone();\n    $helper.children().each(function (index) {\n      $(this).width($originals.eq(index).width());\n    });\n    return $helper;\n  };\n\n\n  //Make diagnosis table sortable\n  $(\"#content_tree_child tbody\").sortable({\n    //helper: fixHelperModified,\n    handle: '.tree-children-draggable',\n    start: function (event, ui) {\n      ui.item.data('start_pos', ui.item.index());\n    },\n    stop: function (event, ui) {\n      var start_pos = ui.item.data('start_pos');\n      if (start_pos != ui.item.index()) {\n        var element = 0, prev = 0, next = 0;\n\n        if (typeof ui.item.prev('tr').attr(\"data-key\") !== 'undefined')\n          prev = ui.item.prev('tr').attr(\"data-key\");\n\n        if (typeof ui.item.next('tr').attr(\"data-key\") !== 'undefined')\n          next = ui.item.next('tr').attr(\"data-key\");\n\n        element = ui.item.attr(\"data-key\");\n\n        $.ajax({\n          url: '/base/swap',\n          type: 'POST',\n          data: {\n            prev: prev,\n            element: element,\n            next: next\n          },\n          success: function (res) {\n            if (res == false) {\n              lobiNotify('error', 'Child Hierarchy', 'Changes not Saved')\n            } else {\n              lobiNotify('success', 'Child Hierarchy', 'Saved');\n            }\n          },\n          error: function (err) {\n            lobiNotify('error', 'Child Hierarchy', 'Changes not Saved')\n          }\n        });\n      }\n    }\n  });\n\n  $('.view-dropdown').change(function () {\n    var val = $(this).val();\n    var id = $(this).closest('tr').data('key');\n    $.ajax({\n      url: '/base/update-view',\n      type: 'POST',\n      data: {\n        id: id,\n        value: val\n      },\n      success: function (res) {\n        if (res == false) {\n          lobiNotify('error', 'View', 'Changes not Saved');\n        } else {\n          lobiNotify('success', 'View', 'Changes Saved')\n        }\n      },\n      error: function (err) {\n        lobiNotify('error', 'View', 'Changes not Saved');\n      }\n    });\n  });\n\n  $('.hide-dropdown').change(function () {\n    var val = $(this).val();\n    var id = $(this).closest('tr').data('key');\n    $.ajax({\n      url: '/base/update-hide',\n      type: 'POST',\n      data: {\n        id: id,\n        value: val\n      },\n      success: function (res) {\n        if (res == false) {\n          lobiNotify('error', 'Hidden Option', 'Changes not Saved');\n        } else {\n          lobiNotify('success', 'Hidden Option', 'Changes Saved')\n        }\n      },\n      error: function (err) {\n        lobiNotify('error', 'Hidden Option', 'Changes not Saved');\n      }\n    });\n  });\n\n  $('.widget-text-form select[name*=\\\"[language]\\\"]').change(function () {\n    var option = $(this).find('option[value=\\\"' + this.value + '\\\"]');\n    window.location.href = option.attr('data-url')\n  });\n\n  (function () {\n\n    var $codes = $('.highlight code');\n    $codes.each(function (index, el) {\n      hljs.highlightBlock(el);\n    });\n  })();\n});\n"],"sourceRoot":""}